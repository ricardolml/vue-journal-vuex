{"version":3,"sources":["webpack:///./src/modules/auth/composables/useAuth.js","webpack:///./src/modules/auth/views/Login.vue","webpack:///./src/modules/auth/views/Login.vue?d3b9"],"names":["useAuth","store","useStore","createUser","user","dispatch","resp","loginUser","checkAuthStatus","logout","commit","authStatus","computed","getters","userName","class","data-validate","data-placeholder","type","onLogin","placeholder","required","userForm","email","password","to","setup","router","value","ok","message","push","name","fire","__exports__","render"],"mappings":"6JAGMA,EAAU,WACZ,IAAMC,EAAQC,iBAERC,EAAU,yDAAG,WAAOC,GAAP,uGACIH,EAAMI,SAAU,kBAAmBD,GADvC,cACTE,EADS,yBAERA,GAFQ,2CAAH,sDAKVC,EAAS,yDAAG,WAAOH,GAAP,uGACMH,EAAMI,SAAU,kBAAmBD,GADzC,cACRE,EADQ,yBAEPA,GAFO,2CAAH,sDAKTE,EAAe,yDAAI,oHACFP,EAAMI,SAAS,kBADb,cACfC,EADe,yBAEdA,GAFc,2CAAJ,qDAKfG,EAAS,WACXR,EAAMS,OAAO,eACbT,EAAMS,OAAO,yBAGjB,MAAO,CACHF,kBACAL,aACAI,YACAE,SAEAE,WAAYC,gBAAU,kBAAMX,EAAMY,QAAQ,wBAC1CC,SAAUF,gBAAU,kBAAMX,EAAMY,QAAQ,sBAIjCb,U,6DCpCX,eAA0D,QAApDe,MAAM,8BAA6B,cAAU,G,GAG3CA,MAAM,+BACNC,gBAAc,kB,EAGd,eAAgE,QAA1DD,MAAM,iBAAiBE,mBAAiB,K,YAI9CF,MAAM,+BACNC,gBAAc,kB,EASd,eAAgE,QAA1DD,MAAM,iBAAiBE,mBAAiB,K,WAGlD,eAEM,OAFDF,MAAM,sCAAoC,CAC3C,eAA8D,UAAtDG,KAAK,SAASH,MAAM,qBAAoB,W,MAG/CA,MAAM,sC,iBACkC,sB,gHA7BjD,EACA,eA8BO,QA9BDA,MAAM,2CAA4C,SAAM,8CAAU,EAAAI,SAAA,EAAAA,QAAA,qBAAO,e,CAC3E,eAMM,MANN,EAMM,C,eAFF,eAA6F,SAAtFJ,MAAM,WAAWG,KAAK,OAAOE,YAAY,SAASC,SAAA,G,qDAAkB,EAAAC,SAASC,MAAK,K,mBAAd,EAAAD,SAASC,SACpF,IAGJ,eAYM,MAZN,EAYM,C,eARF,eAME,SALER,MAAM,WACNG,KAAK,WACLE,YAAY,aACZC,SAAA,G,qDACS,EAAAC,SAASE,SAAQ,K,mBAAjB,EAAAF,SAASE,YAEtB,IAGJ,EAIA,eAEM,MAFN,EAEM,CADF,eAAyE,GAA3DC,GAAI,mBAAqB,C,wBAAE,iBAAkB,C,iGAYxD,GAEXC,MAFW,WAIP,IAAMC,EAAS,iBACf,EAAsB,OAAA3B,EAAA,QAAdO,EAAR,EAAQA,UAEFe,EAAW,eAAI,CACjBC,MAAO,GACPC,SAAU,KAGd,MAAO,CACHF,WAEAH,QAAS,WAAF,8CAAE,wHACyBZ,EAAUe,EAASM,OAD5C,gBACGC,EADH,EACGA,GAAIC,EADP,EACOA,QAEPD,EACAF,EAAOI,KAAM,CAAEC,KAAM,aADhB,IAAKC,KAAK,QAASH,EAAU,SAHlC,2CAAF,qDAAE,M,qBCpDrB,MAAMI,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/Login.f325cf73.js","sourcesContent":["import { computed } from \"vue\";\nimport { useStore } from \"vuex\"\n\nconst useAuth = () => {\n    const store = useStore();\n    \n    const createUser = async (user) => {\n        const resp = await store.dispatch( 'auth/createUser', user );\n        return resp;\n    }\n\n    const loginUser = async (user) => {\n        const resp =  await store.dispatch( 'auth/singInUser' ,user);\n        return resp;\n    }\n\n    const checkAuthStatus =  async() => {\n        const resp = await store.dispatch('auth/checkAuth');\n        return resp;\n    }\n\n    const logout = () => {\n        store.commit('auth/logout');\n        store.commit('journal/clearEntries');\n    }\n\n    return {\n        checkAuthStatus,\n        createUser,\n        loginUser,\n        logout,\n\n        authStatus: computed( () => store.getters['auth/currentState'] ),\n        userName: computed( () => store.getters['auth/userName'] ),\n    }\n}\n\nexport default useAuth;","<template>\n    <span class=\"login100-form-title p-b-41\"> Ingresar </span>\n    <form class=\"login100-form validate-form p-b-33 p-t-5\" @submit.prevent=\"onLogin\" >\n        <div\n            class=\"wrap-input100 validate-input\"\n            data-validate=\"Enter username\"\n        >\n            <input class=\"input100\" type=\"text\" placeholder=\"Correo\" required v-model=\"userForm.email\" />\n            <span class=\"focus-input100\" data-placeholder=\"&#xe82a;\"></span>\n        </div>\n\n        <div\n            class=\"wrap-input100 validate-input\"\n            data-validate=\"Enter password\"\n        >\n            <input\n                class=\"input100\"\n                type=\"password\"\n                placeholder=\"Contraseña\"\n                required\n                v-model=\"userForm.password\"\n            />\n            <span class=\"focus-input100\" data-placeholder=\"&#xe80f;\"></span>\n        </div>\n\n        <div class=\"container-login100-form-btn m-t-32\">\n            <button type=\"submit\" class=\"login100-form-btn\">Login</button>\n        </div>\n\n        <div class=\"container-login100-form-btn m-t-32\">\n            <router-link :to=\"{ name : 'register' }\">¿No tienes cuenta?</router-link>\n        </div>\n    </form>\n</template>\n\n<script>\n\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport useAuth from '../composables/useAuth';\nimport Swal from 'sweetalert2'\n\nexport default {\n\n    setup(){\n\n        const router = useRouter();\n        const { loginUser } = useAuth();\n\n        const userForm = ref({\n            email: '',\n            password: ''\n        });\n\n        return {\n            userForm,\n\n            onLogin: async() => {\n                const { ok, message } = await loginUser(userForm.value);\n\n                if( !ok ) Swal.fire('Error', message , 'error')\n                else router.push( { name: 'no-entry' } )\n            }\n        }\n    }\n};\n</script>","import { render } from \"./Login.vue?vue&type=template&id=291f9f2e\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Volumes/DATOS/DATOS/CURSOS/VUE-JS/07-journal/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}